"use strict";(self.webpackChunktasks_front=self.webpackChunktasks_front||[]).push([[274],{7274:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r,a=n(3433),c=n(4165),o=n(5861),s=n(9439),u=n(2791),i=n(3558),d=n(1243),l=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/categories");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.delete("/categories/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Failed to delete category:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.put("/categories/".concat(t),{name:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Failed to update category:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.post("/categories/create",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Failed to update Data:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=n(5705),v=n(4865),j=n(2348),Z=n(3329),g=function(e){var t=e.onAddCategory,n=e.onChangeModalAdd;return(0,Z.jsx)(v.W2,{children:(0,Z.jsx)(x.J9,{initialValues:{name:"",dataStart:"",dataEnd:""},onSubmit:function(e,r){var a=r.resetForm;t(e),a(),n()},children:(0,Z.jsxs)(x.l0,{children:[(0,Z.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,Z.jsx)(v.II,{type:"text",id:"name",name:"name"}),(0,Z.jsxs)(v.fv,{children:[(0,Z.jsx)("label",{htmlFor:"dataStart",children:"Start Date:"}),(0,Z.jsx)(v._u,{type:"date",id:"dataStart",name:"dataStart"})]}),(0,Z.jsxs)(v.fv,{children:[(0,Z.jsx)("label",{htmlFor:"dataEnd",children:"End Date:"}),(0,Z.jsx)(v._u,{type:"date",id:"dataEnd",name:"dataEnd"})]}),(0,Z.jsxs)(j.ZP,{children:[(0,Z.jsx)(j.zx,{type:"button",onClick:n,children:"cancel"}),(0,Z.jsx)(j.zx,{type:"submit",children:"save"})]})]})})})},m=n(8868),y=n(636),b=n(1048),k=n(1413),w=function(e){var t=e.id,n=e.onChangeModalEdit,r=e.data,a=(0,u.useState)(""),i=(0,s.Z)(a,2),d=i[0],l=i[1],f=(0,u.useState)(r),p=(0,s.Z)(f,2)[1],x=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t,d);case 3:a=r.map((function(e){return e.id===t?(0,k.Z)((0,k.Z)({},e),{},{name:d}):e})),p(a),n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to update category:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return console.log("id",t),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(j.IN,{children:[(0,Z.jsx)(m.vV,{children:"Edit Developers category"}),(0,Z.jsx)("label",{children:"name"}),(0,Z.jsx)("input",{value:d,onChange:function(e){l(e.target.value)}}),(0,Z.jsxs)(j.ZP,{children:[(0,Z.jsx)(j.zx,{button:"button",onClick:n,children:"cancel"}),(0,Z.jsx)(j.zx,{button:"button",onClick:x,children:"save"})]})]})})},C=function(e){var t=e.id,n=e.onChangeModalDelete,r=e.onDelete;return console.log("id",t),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(j.IN,{children:[(0,Z.jsx)(m.vV,{children:"Do you want to delete this category?"}),(0,Z.jsxs)(j.ZP,{children:[(0,Z.jsx)(j.zx,{button:"button",onClick:n,children:"no"}),(0,Z.jsx)(j.zx,{button:"button",onClick:function(){r(t)},children:"yes"})]})]})})},S=function(e){var t=e.id,n=e.name,r=e.dataEnd,a=e.onDelete,c=e.data,o=(0,u.useState)(!1),i=(0,s.Z)(o,2),d=i[0],l=i[1],f=(0,u.useState)(!1),h=(0,s.Z)(f,2),p=h[0],x=h[1],v=(0,u.useState)(!1),j=(0,s.Z)(v,2),g=j[0],k=j[1],S=function(){l(!d),x(!1),k(!1),document.body.style.overflow=""},E=function(){x(!p),l(!1),document.body.style.overflow=""},F=function(){k(!g),l(!1),document.body.style.overflow=""},D=function(){E()},A=function(){F()};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(m.NG,{id:t,children:[(0,Z.jsxs)(m.vV,{children:[n," "]}),(0,Z.jsx)(m.vV,{children:"tasks"}),(0,Z.jsx)(m.vV,{children:r}),(0,Z.jsxs)(m.ur,{children:[(0,Z.jsx)(y.rU,{to:"/tasks/".concat(t,"?categoryName=").concat(n),children:"actions"}),(0,Z.jsx)(m.vi,{type:"button",onClick:function(){S()},children:"more"})]})]}),d&&(0,Z.jsx)(b.$,{toggleModal:S,children:(0,Z.jsxs)(m.i7,{children:[(0,Z.jsx)(m.vi,{button:"button",onClick:A,children:"Edit"}),(0,Z.jsx)(m.vi,{button:"button",onClick:D,children:"Delete"})]})}),p&&(0,Z.jsx)(b.$,{toggleModal:E,children:(0,Z.jsx)(C,{onChangeModalDelete:D,onDelete:a,id:t})}),g&&(0,Z.jsx)(b.$,{toggleModal:F,children:(0,Z.jsx)(w,{onChangeModalEdit:A,id:t,data:c})})]})},E=n(7693),F=function(){var e=(0,u.useState)(null),t=(0,s.Z)(e,2),n=t[0],r=t[1],d=(0,u.useState)(!1),h=(0,s.Z)(d,2),x=h[0],v=h[1],j=(0,u.useState)("pending"),m=(0,s.Z)(j,2)[1],y=(0,u.useState)({name:"",dataStart:"",dataEnd:""}),k=(0,s.Z)(y,2),w=k[0],C=k[1];(0,u.useEffect)((function(){(0,o.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m("pending"),e.next=4,l();case 4:t=e.sent,m("fulfilled"),r(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m("rejected");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[w]),(0,u.useEffect)((function(){w&&r((function(e){return e?[].concat((0,a.Z)(e),[w]):[w]}))}),[w]);var F=function(){v(!x),document.body.style.overflow=""},D=function(){F()},A=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:a=n.filter((function(e){return e._id!==t})),r(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to delete category:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(t);case 3:n=e.sent,r((function(e){return e&&Array.isArray(e)?[].concat((0,a.Z)(e),[n]):[n]})),C({name:"",dataStart:"",dataEnd:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to add category:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(i.O,{children:[(0,Z.jsx)(i.z,{button:"button",onClick:function(){D()},children:"Add category"}),n&&Array.isArray(n)&&n.map((function(e){return e&&e._id&&(0,Z.jsx)(S,{id:e._id,name:e.name,dataStart:e.dataStart.slice(0,10),dataEnd:e.dataEnd.slice(0,10),onDelete:function(){return A(e._id)},data:n,newCategory:w,setNewCategory:C,children:(0,Z.jsx)(E.Z,{categoryId:function(){return A(e._id)},categoryName:e.name})},e._id)})),x&&(0,Z.jsx)(b.$,{toggleModalAdd:F,children:(0,Z.jsx)(g,{onAddCategory:M,handleAddCategory:M,onChangeModalAdd:D,setData:r})})]})})},D=n(168),A=n(6444).ZP.div(r||(r=(0,D.Z)(["\npadding:  ","px;\n"])),(function(e){return e.theme.space[5]})),M=function(){return(0,Z.jsx)(A,{children:(0,Z.jsx)(F,{})})}}}]);
//# sourceMappingURL=274.faa99787.chunk.js.map