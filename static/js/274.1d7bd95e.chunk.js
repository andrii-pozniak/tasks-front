"use strict";(self.webpackChunktasks_front=self.webpackChunktasks_front||[]).push([[274],{7274:function(t,e,n){n.r(e),n.d(e,{default:function(){return M}});var r,a=n(3433),c=n(4165),o=n(5861),s=n(9439),u=n(2791),i=n(3558),d=n(1243),l=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.Z.get("/categories");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.Z.delete("/categories/".concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Failed to delete category:",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(e,n){var r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.Z.put("/categories/".concat(e),{name:n});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Failed to update category:",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.Z.post("/categories/create",e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Failed to update Data:",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),x=n(5705),v=n(4865),j=n(2348),Z=n(3329),g=function(t){var e=t.onAddCategory,n=t.onChangeModalAdd;return(0,Z.jsx)(v.W2,{children:(0,Z.jsx)(x.J9,{initialValues:{name:"",dataStart:"",dataEnd:""},onSubmit:function(t,r){var a=r.resetForm;e(t),a(),n()},children:(0,Z.jsxs)(x.l0,{children:[(0,Z.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,Z.jsx)(v.II,{type:"text",id:"name",name:"name"}),(0,Z.jsxs)(v.fv,{children:[(0,Z.jsx)("label",{htmlFor:"dataStart",children:"Start Date:"}),(0,Z.jsx)(v._u,{type:"date",id:"dataStart",name:"dataStart"})]}),(0,Z.jsxs)(v.fv,{children:[(0,Z.jsx)("label",{htmlFor:"dataEnd",children:"End Date:"}),(0,Z.jsx)(v._u,{type:"date",id:"dataEnd",name:"dataEnd"})]}),(0,Z.jsxs)(j.ZP,{children:[(0,Z.jsx)(j.zx,{type:"button",onClick:n,children:"cancel"}),(0,Z.jsx)(j.zx,{type:"submit",children:"save"})]})]})})})},m=n(8868),y=n(636),b=n(1048),k=n(1413),w=function(t){var e=t.id,n=t.onChangeModalEdit,r=t.data,a=(0,u.useState)(""),i=(0,s.Z)(a,2),d=i[0],l=i[1],f=(0,u.useState)(r),p=(0,s.Z)(f,2)[1],x=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(e,d);case 3:a=r.map((function(t){return t.id===e?(0,k.Z)((0,k.Z)({},t),{},{name:d}):t})),p(a),n(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Failed to update category:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return console.log("id",e),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(j.IN,{children:[(0,Z.jsx)(m.vV,{children:"Edit Developers category"}),(0,Z.jsx)("label",{children:"name"}),(0,Z.jsx)("input",{value:d,onChange:function(t){l(t.target.value)}}),(0,Z.jsxs)(j.ZP,{children:[(0,Z.jsx)(j.zx,{button:"button",onClick:n,children:"cancel"}),(0,Z.jsx)(j.zx,{button:"button",onClick:x,children:"save"})]})]})})},C=function(t){var e=t.id,n=t.onChangeModalDelete,r=t.onDelete;return console.log("id",e),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(j.IN,{children:[(0,Z.jsx)(m.vV,{children:"Do you want to delete this category?"}),(0,Z.jsxs)(j.ZP,{children:[(0,Z.jsx)(j.zx,{button:"button",onClick:n,children:"no"}),(0,Z.jsx)(j.zx,{button:"button",onClick:function(){r(e)},children:"yes"})]})]})})},S=function(t){var e=t.id,n=t.name,r=t.dataEnd,a=t.onDelete,c=t.data,o=(0,u.useState)(!1),i=(0,s.Z)(o,2),d=i[0],l=i[1],f=(0,u.useState)(!1),h=(0,s.Z)(f,2),p=h[0],x=h[1],v=(0,u.useState)(!1),j=(0,s.Z)(v,2),g=j[0],k=j[1],S=function(){l(!d),x(!1),k(!1),document.body.style.overflow=""},E=function(){x(!p),l(!1),document.body.style.overflow=""},F=function(){k(!g),l(!1),document.body.style.overflow=""},D=function(){E()},A=function(){F()};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(m.NG,{id:e,children:[(0,Z.jsxs)(m.vV,{children:[n," "]}),(0,Z.jsx)(m.vV,{children:"tasks"}),(0,Z.jsx)(m.vV,{children:r}),(0,Z.jsxs)(m.ur,{children:[(0,Z.jsx)(y.rU,{to:"/tasks/".concat(e,"?categoryName=").concat(n),children:"actions"}),(0,Z.jsx)(m.vi,{type:"button",onClick:function(){S()},children:"more"})]})]}),d&&(0,Z.jsx)(b.$,{toggleModal:S,children:(0,Z.jsxs)(m.i7,{children:[(0,Z.jsx)(m.vi,{button:"button",onClick:A,children:"Edit"}),(0,Z.jsx)(m.vi,{button:"button",onClick:D,children:"Delete"})]})}),p&&(0,Z.jsx)(b.$,{toggleModal:E,children:(0,Z.jsx)(C,{onChangeModalDelete:D,onDelete:a,id:e})}),g&&(0,Z.jsx)(b.$,{toggleModal:F,children:(0,Z.jsx)(w,{onChangeModalEdit:A,id:e,data:c})})]})},E=n(7693),F=function(){var t=(0,u.useState)(null),e=(0,s.Z)(t,2),n=e[0],r=e[1],d=(0,u.useState)(!1),h=(0,s.Z)(d,2),x=h[0],v=h[1],j=(0,u.useState)("pending"),m=(0,s.Z)(j,2)[1],y=(0,u.useState)({name:"",dataStart:"",dataEnd:""}),k=(0,s.Z)(y,2),w=k[0],C=k[1];(0,u.useEffect)((function(){(0,o.Z)((0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m("pending"),t.next=4,l();case 4:e=t.sent,m("fulfilled"),r(e),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),m("rejected");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}),[w]),(0,u.useEffect)((function(){w&&r((function(t){return t?[].concat((0,a.Z)(t),[w]):[w]}))}),[w]);var F=function(){v(!x),document.body.style.overflow=""},D=function(){F()},A=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(e){var a;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e);case 3:a=n.filter((function(t){return t._id!==e})),r(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to delete category:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=(0,o.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(e);case 3:n=t.sent,r((function(t){return t&&Array.isArray(t)?[].concat((0,a.Z)(t),[n]):[n]})),C({name:"",dataStart:"",dataEnd:""}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Failed to add category:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(i.O,{children:[(0,Z.jsx)(i.z,{button:"button",onClick:function(){D()},children:"Add category"}),n&&Array.isArray(n)&&n.map((function(t){return t&&t._id&&(0,Z.jsx)(S,{id:t._id,name:t.name,dataStart:t.dataStart,dataEnd:t.dataEnd,onDelete:function(){return A(t._id)},data:n,newCategory:w,setNewCategory:C,children:(0,Z.jsx)(E.Z,{categoryId:function(){return A(t._id)},categoryName:t.name})},t._id)})),x&&(0,Z.jsx)(b.$,{toggleModalAdd:F,children:(0,Z.jsx)(g,{onAddCategory:M,handleAddCategory:M,onChangeModalAdd:D,setData:r})})]})})},D=n(168),A=n(6444).ZP.div(r||(r=(0,D.Z)(["\npadding:  ","px;\n"])),(function(t){return t.theme.space[5]})),M=function(){return(0,Z.jsx)(A,{children:(0,Z.jsx)(F,{})})}}}]);
//# sourceMappingURL=274.1d7bd95e.chunk.js.map